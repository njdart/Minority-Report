var testJson = [
{
	"canvas":{
		"bottom-left":{
			"x":1022,
			"y":1873
		},
		"bottom-right":{
			"x":3319,
			"y":1873
		},
		"top-left":{
			"x":1022,
			"y":629
		},
		"top-right":{
			"x":3319,
			"y":629
		}
	},
	"connections":[
	{
		"from":"e6d98541-a600-4a3c-82f1-0a422649e9ed",
		"to":"c07fbc24-7925-4b06-8acd-e026e0e06f0c",
		"type":"line"
	},
	{
		"from":"c07fbc24-7925-4b06-8acd-e026e0e06f0c",
		"to":"f2517347-2d0d-4dc8-9e31-67ec2208eb05",
		"type":"line"
	},
	{
		"from":"aded43b1-4e04-499b-a263-94dde6abcfe4",
		"to":"e6d98541-a600-4a3c-82f1-0a422649e9ed",
		"type":"line"
	},
	{
		"from":"f4ea62be-fd17-4a14-a7a3-ce2717465038",
		"to":"aded43b1-4e04-499b-a263-94dde6abcfe4",
		"type":"line"
	},
	{
		"from":"aded43b1-4e04-499b-a263-94dde6abcfe4",
		"to":"f1c5d39a-0316-442c-9cf3-fde0c553df9b",
		"type":"line"
	},
	{
		"from":"f1c5d39a-0316-442c-9cf3-fde0c553df9b",
		"to":"aded43b1-4e04-499b-a263-94dde6abcfe4",
		"type":"line"
	}
	],
	"derivedAt":"2016-04-01 12:42:56.650753",
	"derivedFrom":"None",
	"height":3120,
	"stickyNotes":[
	{
		"colour":"YELLOW",
		"height":128,
		"isPhysical":false,
		"uuid":"e6d98541-a600-4a3c-82f1-0a422649e9ed",
		"width":126,
		"x":776,
		"y":837
	},
	{
		"colour":"ORANGE",
		"height":128,
		"isPhysical":false,
		"uuid":"c07fbc24-7925-4b06-8acd-e026e0e06f0c",
		"width":139,
		"x":1330,
		"y":680
	},
	{
		"colour":"ORANGE",
		"height":126,
		"isPhysical":false,
		"uuid":"f2517347-2d0d-4dc8-9e31-67ec2208eb05",
		"width":123,
		"x":1801,
		"y":602
	},
	{
		"colour":"MAGENTA",
		"height":110,
		"isPhysical":false,
		"uuid":"aded43b1-4e04-499b-a263-94dde6abcfe4",
		"width":113,
		"x":874,
		"y":553
	},
	{
		"colour":"BLUE",
		"height":117,
		"isPhysical":false,
		"uuid":"f4ea62be-fd17-4a14-a7a3-ce2717465038",
		"width":118,
		"x":440,
		"y":342
	},
	{
		"colour":"ORANGE",
		"height":118,
		"isPhysical":false,
		"uuid":"f1c5d39a-0316-442c-9cf3-fde0c553df9b",
		"width":126,
		"x":1272,
		"y":238
	}
	],
	"uuid":"d942f81d-1d88-4762-b6df-200ba53108fa",
	"width":4160
},
{
	"canvas":{
		"bottom-left":{
			"x":1022,
			"y":1873
		},
		"bottom-right":{
			"x":3319,
			"y":1873
		},
		"top-left":{
			"x":1022,
			"y":629
		},
		"top-right":{
			"x":3319,
			"y":629
		}
	},
	"connections":[
	{
		"from":"e6d98541-a600-4a3c-82f1-0a422649e9ed",
		"to":"c07fbc24-7925-4b06-8acd-e026e0e06f0c",
		"type":"line"
	},
	{
		"from":"c07fbc24-7925-4b06-8acd-e026e0e06f0c",
		"to":"f2517347-2d0d-4dc8-9e31-67ec2208eb05",
		"type":"line"
	},
	{
		"from":"aded43b1-4e04-499b-a263-94dde6abcfe4",
		"to":"e6d98541-a600-4a3c-82f1-0a422649e9ed",
		"type":"line"
	},
	{
		"from":"f4ea62be-fd17-4a14-a7a3-ce2717465038",
		"to":"aded43b1-4e04-499b-a263-94dde6abcfe4",
		"type":"line"
	},
	{
		"from":"aded43b1-4e04-499b-a263-94dde6abcfe4",
		"to":"f1c5d39a-0316-442c-9cf3-fde0c553df9b",
		"type":"line"
	},
	{
		"from":"f1c5d39a-0316-442c-9cf3-fde0c553df9b",
		"to":"aded43b1-4e04-499b-a263-94dde6abcfe4",
		"type":"line"
	}
	],
	"derivedAt":"2016-04-01 12:42:58.490595",
	"derivedFrom":"d942f81d-1d88-4762-b6df-200ba53108fa",
	"height":3120,
	"stickyNotes":[
	{
		"colour":"YELLOW",
		"height":128,
		"isPhysical":false,
		"uuid":"e6d98541-a600-4a3c-82f1-0a422649e9ed",
		"width":126,
		"x":776,
		"y":837
	},
	{
		"colour":"ORANGE",
		"height":128,
		"isPhysical":false,
		"uuid":"c07fbc24-7925-4b06-8acd-e026e0e06f0c",
		"width":139,
		"x":1330,
		"y":680
	},
	{
		"colour":"ORANGE",
		"height":126,
		"isPhysical":false,
		"uuid":"f2517347-2d0d-4dc8-9e31-67ec2208eb05",
		"width":123,
		"x":1801,
		"y":602
	},
	{
		"colour":"MAGENTA",
		"height":110,
		"isPhysical":false,
		"uuid":"aded43b1-4e04-499b-a263-94dde6abcfe4",
		"width":113,
		"x":874,
		"y":553
	},
	{
		"colour":"BLUE",
		"height":117,
		"isPhysical":false,
		"uuid":"f4ea62be-fd17-4a14-a7a3-ce2717465038",
		"width":118,
		"x":440,
		"y":342
	},
	{
		"colour":"ORANGE",
		"height":118,
		"isPhysical":false,
		"uuid":"f1c5d39a-0316-442c-9cf3-fde0c553df9b",
		"width":126,
		"x":1272,
		"y":238
	}
	],
	"uuid":"71fea569-9dd6-45d6-a5f2-0a49b1953029",
	"width":4160
}
]`

uuid_to_stickyNote_scaled = {}

function createStickyNote(stickyNote, boardW, boardH) {
	var canv = document.getElementById("picanvas");
	var ctx = canv.getContext("2d");
	ctx.fillStyle = "#000";

	var canvW = canv.clientWidth;
	var canvH = canv.clientHeight;

	var width = Math.floor((stickyNote.width/boardW)*canvW);
	var height = Math.floor((stickyNote.height/boardH)*canvH);

	var x = Math.floor((stickyNote.x/boardW)*canvW);
	var y = Math.floor((stickyNote.y/boardH)*canvH);

	uuid_to_stickyNote_scaled[stickyNote.uuid] = {
		"x": x,
		"y": y,
		"width": width,
		"height": height
	}

	ctx.fillRect(x, y, width, height);
}

function drawStickyNotes(boardJSON) {
	var stickyNotes = boardJSON.stickyNotes;
	var canvW = boardJSON.width;
	var canvH = boardJSON.height;
	for(i=0;i<stickyNotes.length;i++)
	{
		createStickyNote(stickyNotes[i], canvW, canvH);
		console.log(stickyNotes[i]);
	}
	console.log("End drawStickyNotes()");
}

function createConnection(connection)
{
	var ctx = document.getElementById("picanvas").getContext("2d");

	var from = uuid_to_stickyNote_scaled[connection.from];
	var to = uuid_to_stickyNote_scaled[connection.to];

	var fromx = from.x + (from.width/2);
	var fromy = from.y + (from.height/2);
	var tox = to.x + (to.width/2);
	var toy = to.y + (to.height/2);

	ctx.moveTo(fromx, fromy);
	ctx.lineTo(tox, toy);
	ctx.stroke();
}

function drawConnections(boardJSON) {
	var connections = boardJSON.connections;

	for(i=0;i<connections.length;i++)
	{
		createConnection(connections[i]);
	}
}

